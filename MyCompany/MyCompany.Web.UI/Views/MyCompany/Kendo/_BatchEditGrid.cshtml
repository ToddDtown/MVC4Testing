@using MyCompany.Web.Mvc.Models

@(Html.Kendo().Grid<Customer>()
    .Name("Grid")
    .Columns(columns =>
    {
        columns.Bound(c => c.Id).Hidden(true);
        columns.Bound(c => c.FirstName).Width(140).Title("First Name");
        columns.Bound(c => c.LastName).Width(140).Title("Last Name");
        columns.Bound(c => c.Generation).Width(80);
        columns.Bound(c => c.RegistrationDate)
            .Width(200)
            .Format("{0:MM/dd/yyyy HH:mm}")
            .EditorTemplateName("Date")
                .Format("{0:MM/dd/yyyy HH:mm}")
            .Title("Registration Date");

        //columns.Bound(c => c.RegistrationDate)
        //    .Template(o => {  })
        //    .ClientTemplate(Html.Kendo().DatePicker()
        //        .Name("reg-date-picker")
        //        .Format("{dd/MM/yyyy}").ToClientTemplate().ToString())
        //    .Width(100);
        
        columns.Command(command => command.Destroy()).Width(110);
    })
    .ToolBar(toolbar =>
    {
        toolbar.Create();
        toolbar.Save();
    })
    .Editable(editable =>
    {
        editable.Mode(GridEditMode.InCell);
        editable.DisplayDeleteConfirmation(false);
    })
    .HtmlAttributes(new { style = "height:730px;" })
    .Pageable()
    .Navigatable()
    .Sortable()
    .Scrollable()
    .DataSource(dataSource => dataSource
        .Ajax()
        .Batch(true)
        .PageSize(20)
        .ServerOperation(false)
        .Events(events => events.Error("error_handler"))
    .Model(model => model.Id(c => c.Id))
    .Create("Editing_Create", "Kendo")  // DON'T FORGET, SET CONTROLLER NAME
    .Read("Editing_Read", "Kendo")
    .Update("Editing_Update", "Kendo")
    .Destroy("Editing_Destroy", "Kendo")
    )
)
